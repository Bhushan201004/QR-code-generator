<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <label for="qrText">Enter your Text or URL</label><br>
        <input type=" text" id="qrText" placeholder="Text orURL" required>

        <div id="qrContainer">
           
        </div>

        <button type="button" class="btn" id="genBtn">Generate QR Code </button>
        <a href="" class="btn" id="downloadBtn" download="QRCode.jpg">Download</a>
                               
    </div>
</body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.js"></script>
    <script>
        let qrcontainer = document.getElementById('qrcontainer')
        let qrText = document.getElementById('qrText')
        let genBtn = document.getElementById('genBtn')
        let downloadBtn = document.getElementById('downloadBtn')
        let qrImage
        generateQR = (qrtext)=>{
            qrContainer.innerHTML=""
            return new QRCode(qrContainer, {
        text: qrtext,
        width: 200,
        height: 200,
        colorDark : "#000000",
        colorLight : "#ffffff",
        correctLevel : QRCode.CorrectLevel.H
        });
        }

        downloadQR = ()=>{
            qrImgage = document.querySelector('#qrContainer img')

            let imgSrc = qrImgage.getAttribute('src')
            console.log(imgSrc)
            downloadBtn.setAttribute("href",imgSrc)
        }

        genBtn.addEventListener("click", (e)=>{
            let text = qrText.value
            if(text.length>0){
                qrcode = generateQR(text)
                qrcontainer.classList.add('img.show')
               
            }
            else {

            alert('please enter Text or URL')
            }
            
            
        })
    downloadBtn.addEventListener("click", downloadQR)
    </script>
</html>